<!DOCTYPE html>
<html lang="en">
<body>
 
<!-- begin script tag example -->
<script src="parse_func.js"></script>
<script src="lua.vm.js"></script>

<script type="text/lua">
--js.global.alert('hello from Lua script tag in HTML!') -- this is Lua!
</script>


    <textarea id="luaCode" width="800" height="200" style="width:800px;height:200px;">
        js.run('run()');
        js.run('alert("food")');
    
        js.run('sum(1,2,3)');
        js.run('concat(1,"+",3)');
    </textarea>
    <button onclick="runLua();">run lua</button>

    <script type="text/javascript">
window.luaCallback = {
  'run':function() {
    console.log('running')
  },
  alert:function(message) {
    alert(message);
  },
  sum:function(a,b,c) {
    s = a+b+c;
    console.log('sum result: ' + s);
  },
    concat:function(a,b,c) {
    s = ''+a+b+c;
    console.log('concat result: ' + s);
  }

}

    function runLua() {
      var code = document.getElementById('luaCode').value;
      Lua.execute(code);
    }
    </script>
  </body>
</html>

